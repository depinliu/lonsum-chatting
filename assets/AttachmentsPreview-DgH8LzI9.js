const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ButtonCancelAttachments-DaCohFhF.js","assets/index-pcgnHJvM.js","assets/index-CtX3bogN.css"])))=>i.map(i=>d[i]);
import{f as j,r as f,b as p,c as o,o as a,a as e,s as m,d,u as c,i as B,t as v,B as V,z as g,w as _,F as A,x as I,n as N,R as L,_ as P}from"./index-pcgnHJvM.js";const S={class:"absolute left-0 right-0 top-0 bottom-0"},E={class:"h-full flex-1 flex flex-col bg-zinc-100 dark:bg-zinc-700 p-4 gap-4"},U={class:"flex flex-row items-center gap-4"},D={class:"font-medium text-2xl dark:text-white"},R={key:0,class:"flex-1 overflow-auto scroll-thin relative bg-gray-100 dark:bg-zinc-700 rounded-lg"},T={class:"flex items-center justify-between h-full"},$={class:"flex items-center gap-3 mx-auto"},M=["src"],O={key:1,class:"w-auto h-72",controls:""},q=["src"],G={key:2,class:"flex flex-col h-fit w-full"},H={class:"text-sm truncate max-w-xs dark:text-white mb-4"},J={controls:"",class:"w-full"},K=["src"],Q={key:3,class:"flex flex-col text-cer"},W={class:"text-sm truncate max-w-xs dark:text-white mb-4"},X={class:"flex flex-col w-full gap-4"},Y={class:"flex flex-row justify-between items-start gap-2 w-full"},Z={class:"w-full overflow-x-auto scroll-thin flex gap-2"},ee=["onClick"],te={key:0,class:"absolute h-full w-full bg-black z-10 opacity-50 hover:opacity-0"},le=["src"],se={key:2,class:"fa-solid fa-video text-white text-lg"},oe={key:3,class:"fa-solid fa-music text-white text-lg"},ae={key:4,class:"fa-solid fa-file text-white text-lg"},ie=["onClick"],ne={class:"flex flex-row items-center gap-2"},ue={__name:"AttachmentsPreview",setup(ce){const s=j(),w=B(()=>P(()=>import("./ButtonCancelAttachments-DaCohFhF.js"),__vite__mapDeps([0,1,2]))),x=f(null),i=f(0),t=f(s.form.files[0]||null),k=n=>{i.value=n,t.value=s.form.files[n]},y=n=>{s.form.files.splice(n,1),s.form.files.length===0?(i.value=null,t.value=null):i.value===n?(i.value=n<s.form.files.length?n:s.form.files.length-1,t.value=s.form.files[i.value]||null):i.value>n&&(i.value-=1),i.value!==null&&i.value>=0&&(t.value=s.form.files[i.value]||null)},b=()=>{x.value.click()};return(n,l)=>{const h=p("Card"),z=p("Input"),C=p("Button");return a(),o("div",S,[e("div",E,[e("div",U,[d(c(w)),e("h2",D," Send "+v(c(V)(c(s).form.files.length))+" attachment ",1)]),t.value?(a(),o("div",R,[e("div",T,[e("div",$,[t.value.type==="image"?(a(),o("img",{key:0,src:t.value.preview,alt:"Preview",class:"w-full h-full lg:h-72 object-contain"},null,8,M)):t.value.type==="video"?(a(),o("video",O,[e("source",{src:t.value.preview},null,8,q),l[2]||(l[2]=g(" Browser Anda tidak mendukung video. "))])):t.value.type==="audio"?(a(),o("div",G,[e("p",H,v(t.value.name),1),d(h,null,{default:_(()=>[e("audio",J,[e("source",{src:t.value.preview},null,8,K),l[3]||(l[3]=g(" Browser Anda tidak mendukung audio. "))])]),_:1})])):t.value.type==="document"?(a(),o("div",Q,[e("p",W,v(t.value.name),1),d(h,{class:"h-full w-full flex items-center justify-center bg-zinc-50 p-16"},{default:_(()=>l[4]||(l[4]=[e("div",{class:"text-center"},[e("i",{class:"fa-solid fa-file text-zinc-300 text-6xl dark:text-zinc-400 mb-4"}),e("p",{class:"dark:text-zinc-400 text-zinc-400 font-normal text-xl"}," No preview available ")],-1)])),_:1})])):m("",!0)])])])):m("",!0),e("div",X,[d(z,{modelValue:t.value.caption,"onUpdate:modelValue":l[0]||(l[0]=r=>t.value.caption=r),name:"caption",id:"caption",type:"text",placeholder:"Add caption..."},null,8,["modelValue"]),e("div",Y,[e("div",Z,[(a(!0),o(A,null,I(c(s).form.files,(r,u)=>(a(),o("button",{key:u,onClick:F=>k(u),class:N(["min-w-20 w-20 h-20 rounded bg-zinc-500 relative transition transform duration-300 ease-in-out",i.value===u?"scale-100 border-2 border-primary shadow":"scale-75 hover:scale-100"])},[i.value!==u?(a(),o("div",te)):m("",!0),r.type==="image"?(a(),o("img",{key:1,src:r.preview,class:"w-full h-full object-cover rounded"},null,8,le)):r.type==="video"?(a(),o("i",se)):r.type==="audio"?(a(),o("i",oe)):(a(),o("i",ae)),e("span",{onClick:L(F=>y(u),["stop"]),class:"bg-red-500 absolute top-0 right-0 z-10 text-white shadow rounded-full h-6 w-6 flex items-center justify-center"},l[5]||(l[5]=[e("i",{class:"fa-solid fa-xmark text-lg"},null,-1)]),8,ie)],10,ee))),128))]),e("div",ne,[e("div",{onClick:b,class:"min-w-20 w-20 h-20 rounded bg-zinc-200 text-zinc-500 dark:text-zinc-300 dark:bg-zinc-600 flex items-center justify-center cursor-pointer transition transform duration-300 ease-in-out scale-75 hover:scale-100"},l[6]||(l[6]=[e("i",{class:"fa-solid fa-plus"},null,-1)])),d(C,{size:"lg",disabled:c(s).isLoading.uploadFiles,loading:c(s).isLoading.uploadFiles,onClick:c(s).uploadFiles,class:"!w-12 !h-12 !rounded-full bg-primary text-white flex items-center justify-center"},{default:_(()=>l[7]||(l[7]=[e("i",{class:"bi bi-send-fill rotate-45"},null,-1)])),_:1},8,["disabled","loading","onClick"])])]),e("input",{ref_key:"fileInput",ref:x,type:"file",class:"hidden",onChange:l[1]||(l[1]=(...r)=>c(s).handleFileUpload&&c(s).handleFileUpload(...r)),accept:".jpg,.jpeg,.png,.gif,.mp4,.3gp,.avi,.pdf,.doc,.docx,.xls,.xlsx,.txt,.mp3,.aac,.wav,.zip",multiple:""},null,544)])])])}}};export{ue as default};
