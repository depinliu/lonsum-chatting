const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ButtonCancelAttachments-Dsi3oQT3.js","assets/index-ClDkpKpY.js","assets/index-DUjUTpHk.css"])))=>i.map(i=>d[i]);
import{f as B,r as f,b as p,c as o,o as i,a as e,s as m,d as c,u as a,i as j,t as v,B as V,z as g,w as x,F as A,v as I,n as N,_ as L}from"./index-ClDkpKpY.js";const P={class:"h-full flex-1 flex flex-col bg-zinc-100 dark:bg-zinc-700 p-4 gap-4"},S={class:"flex flex-row items-center gap-4"},E={class:"font-medium text-2xl dark:text-white"},U={key:0,class:"flex-1 overflow-auto scroll-thin relative bg-gray-100 dark:bg-zinc-700 rounded-lg"},D={class:"flex items-center justify-between h-full"},T={class:"flex items-center gap-3 mx-auto"},$=["src"],O={key:1,class:"w-auto h-72 rounded-lg",controls:""},R=["src"],Y={key:2,class:"flex flex-col h-fit w-full"},q={class:"text-sm truncate max-w-xs dark:text-white mb-4"},G={controls:"",class:"w-full"},H=["src"],J={key:3,class:"flex flex-col text-cer"},K={class:"text-sm truncate max-w-xs dark:text-white mb-4"},M={class:"flex flex-col w-full gap-4"},Q={class:"flex flex-row justify-between items-end gap-2 w-full"},W={class:"flex-1 flex flex-wrap overflow-auto scroll-thin gap-2"},X=["onClick"],Z=["src"],ee={key:1,class:"fa-solid fa-video text-white text-lg"},te={key:2,class:"fa-solid fa-music text-white text-lg"},le={key:3,class:"fa-solid fa-file text-white text-lg"},se={class:"flex-none"},ae={__name:"AttachmentsPreview",setup(oe){const s=B(),w=j(()=>L(()=>import("./ButtonCancelAttachments-Dsi3oQT3.js"),__vite__mapDeps([0,1,2]))),_=f(null),r=f(0),l=f(s.form.files[0]||null),k=d=>{r.value=d,l.value=s.form.files[d]},y=d=>{s.removeFile(d),s.form.files.length>0?(r.value=0,l.value=s.form.files[0]):(r.value=null,l.value=null)},b=()=>{if(s.form.files.length>=10){alert("You can only upload 10 files at once");return}_.value.click()};return(d,t)=>{const h=p("Card"),z=p("Input"),C=p("Button");return i(),o("div",P,[e("div",S,[c(a(w)),e("h2",E," Send "+v(a(V)(a(s).form.files.length))+" attachment ",1)]),l.value?(i(),o("div",U,[e("div",D,[e("div",T,[l.value.type==="image"?(i(),o("img",{key:0,src:l.value.preview,alt:"Preview",class:"h-72 rounded-lg"},null,8,$)):l.value.type==="video"?(i(),o("video",O,[e("source",{src:l.value.preview},null,8,R),t[3]||(t[3]=g(" Browser Anda tidak mendukung video. "))])):l.value.type==="audio"?(i(),o("div",Y,[e("p",q,v(l.value.name),1),c(h,null,{default:x(()=>[e("audio",G,[e("source",{src:l.value.preview},null,8,H),t[4]||(t[4]=g(" Browser Anda tidak mendukung audio. "))])]),_:1})])):l.value.type==="document"?(i(),o("div",J,[e("p",K,v(l.value.name),1),c(h,{class:"h-full w-full flex items-center justify-center bg-zinc-50 p-12"},{default:x(()=>t[5]||(t[5]=[e("div",{class:"text-center"},[e("i",{class:"fa-solid fa-file text-zinc-300 text-6xl dark:text-zinc-400 mb-4"}),e("p",{class:"dark:text-zinc-400 text-zinc-400 font-normal text-xl"}," No preview available ")],-1)])),_:1})])):m("",!0)])])])):m("",!0),e("div",M,[c(z,{modelValue:l.value.caption,"onUpdate:modelValue":t[0]||(t[0]=n=>l.value.caption=n),name:"caption",id:"caption",type:"text",placeholder:"Add caption..."},null,8,["modelValue"]),e("div",Q,[e("div",W,[(i(!0),o(A,null,I(a(s).form.files,(n,u)=>(i(),o("button",{key:u,onClick:F=>k(u),class:N(["min-w-12 w-12 h-12 rounded bg-zinc-500 hover:border-4 hover:border-primary dark:hover:border-tertiary relative",{"border-primary dark:border-tertiary border-4 ":r.value===u}])},[n.type==="image"?(i(),o("img",{key:0,src:n.preview,class:"w-full h-full object-cover rounded"},null,8,Z)):n.type==="video"?(i(),o("i",ee)):n.type==="audio"?(i(),o("i",te)):(i(),o("i",le)),e("button",{onClick:t[1]||(t[1]=F=>y(r.value)),class:"text-red-500 hover:text-red-700 absolute -top-2 -right-1 z-10"},t[6]||(t[6]=[e("i",{class:"fa-solid fa-xmark"},null,-1)]))],10,X))),128)),e("div",se,[a(s).form.files.length<10?(i(),o("div",{key:0,onClick:b,class:"min-w-12 w-12 h-12 rounded bg-zinc-200 text-zinc-500 dark:text-zinc-300 dark:bg-zinc-600 flex items-center justify-center cursor-pointer"},t[7]||(t[7]=[e("i",{class:"fa-solid fa-plus"},null,-1)]))):m("",!0)])]),c(C,{size:"lg",disabled:a(s).isLoading.uploadFiles,loading:a(s).isLoading.uploadFiles,onClick:a(s).uploadFiles,class:"!w-10 !h-10 !rounded-full bg-primary text-white flex items-center justify-center mt-4"},{default:x(()=>t[8]||(t[8]=[e("i",{class:"bi bi-send-fill"},null,-1)])),_:1},8,["disabled","loading","onClick"])]),e("input",{ref_key:"fileInput",ref:_,type:"file",class:"hidden",onChange:t[2]||(t[2]=(...n)=>a(s).handleFileUpload&&a(s).handleFileUpload(...n)),accept:".jpg,.jpeg,.png,.gif,.mp4,.3gp,.avi,.pdf,.doc,.docx,.xls,.xlsx,.txt,.mp3,.aac,.wav,.zip",multiple:""},null,544)])])}}};export{ae as default};
