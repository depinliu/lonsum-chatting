const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Avatar-DdLwVGcg.js","assets/index-MEDYofGz.js","assets/index-tx2ksjG5.css"])))=>i.map(i=>d[i]);
import{G as h,f,m,b as y,j as p,o as s,w as v,a as e,d as k,u as d,i as w,t as o,c as i,x as l,n as _,z as b,B as z,_ as D}from"./index-MEDYofGz.js";const C={class:"relative"},S={class:"flex-1 flex flex-col"},I={class:"flex flex-row justify-between"},N={class:"font-medium text-md line-clamp-1 text-zinc-700 dark:text-zinc-200"},M={class:"text-zinc-500 dark:text-zinc-400"},j={class:"flex flex-row items-center justify-between gap-2"},B={class:"flex-1 flex flex-row gap-.5 items-center"},T={class:"text-sm text-zinc-500 line-clamp-1 dark:text-zinc-400"},V={key:0,class:"text-primary font-medium"},A={key:0},E={key:1},G={key:1},L={key:0,class:"font-medium"},O={class:"flex flex-row items-center"},P={key:0,class:"flex-none"},U={class:"flex flex-row items-center justify-center bg-green-200 text-primary font-bold w-fit min-w-6 h-6 rounded-full text-xs px-1"},F={__name:"ChatItem",props:{item:Object},setup(t){const u=w(()=>D(()=>import("./Avatar-DdLwVGcg.js"),__vite__mapDeps([0,1,2])));f();const r=t,x=m(()=>{const a=r.item.participants.find(n=>n.userId===r.item.typing);return a?a.name:"Someone"}),g=m(()=>{const a=new Date(r.item.lastMessage.timestamp),n=new Date;if(a.toDateString()===n.toDateString())return a.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(".",":");const c=new Date;return c.setDate(c.getDate()-1),a.toDateString()===c.toDateString()?"Yesterday":a.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})});return(a,n)=>{const c=y("router-link");return s(),p(c,{to:{path:`/chat/${t.item.chatId}`},class:"flex flex-row items-center py-2 px-4 hover:bg-zinc-100 cursor-pointer gap-2 group dark:hover:bg-zinc-700 group"},{default:v(()=>[e("div",C,[k(d(u),{src:t.item.chatAvatar,name:t.item.chatName,status:"online",isGroup:t.item.participants.length>2,size:38},null,8,["src","name","isGroup"])]),e("div",S,[e("div",I,[e("h6",N,o(t.item.chatName),1),e("small",M,o(g.value),1)]),e("div",j,[e("div",B,[!t.item.typing&&t.item.participants.length===2&&(t.item.lastMessage.status==="read"||t.item.lastMessage.status==="delivered")?(s(),i("i",{key:0,class:_(["bi text-lg",t.item.lastMessage.status==="read"?"bi-check-all text-blue-500":t.item.lastMessage.status==="delivered"?"bi-check-all text-zinc-500":"bi-check text-zinc-500"])},null,2)):l("",!0),e("p",T,[t.item.typing?(s(),i("span",V,[t.item.participants.length>2?(s(),i("span",A,o(x.value)+" is typing... ",1)):(s(),i("span",E," typing... "))])):(s(),i("span",G,[t.item.participants.length>2?(s(),i("span",L,o(t.item.lastMessage.senderName)+": ",1)):l("",!0),b(" "+o(t.item.lastMessage.content),1)]))])]),e("div",O,[t.item.unreadCount>0?(s(),i("div",P,[e("div",U,o(d(z)(t.item.unreadCount)),1)])):l("",!0),n[0]||(n[0]=e("div",{class:"flex-none group-hover:ml-1 opacity-0 max-w-0 overflow-hidden group-hover:opacity-100 group-hover:max-w-10 transition-all duration-300 ease-in-out"},[e("i",{class:"fa-solid fa-angle-down text-zinc-500 text-sm dark:text-zinc-400"})],-1))])])])]),_:1},8,["to"])}}},Y=h(F,[["__scopeId","data-v-6720b576"]]);export{Y as default};
